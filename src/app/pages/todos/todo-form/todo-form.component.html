<form nz-form [formGroup]="todoForm" (ngSubmit)="submitForm()" class="todo-form">
  <nz-form-item>
    <nz-form-label [nzSpan]="24" nzRequired nzFor="title">
      Task Title
    </nz-form-label>
    <nz-form-control 
      [nzSpan]="24"
      [nzErrorTip]="titleErrorTpl">
      <input 
        nz-input 
        id="title"
        formControlName="title" 
        placeholder="Enter task title"
        [maxlength]="200"
      />
      <ng-template #titleErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          Please enter a task title
        </ng-container>
        <ng-container *ngIf="control.hasError('minlength')">
          Title must be at least 3 characters long
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="24" nzFor="userId">
      User ID
    </nz-form-label>
    <nz-form-control 
      [nzSpan]="24"
      [nzErrorTip]="userIdErrorTpl">
      <input 
        nz-input 
        id="userId"
        formControlName="userId" 
        placeholder="Enter user ID (e.g., userId 1)"
        [maxlength]="50"
      />
      <ng-template #userIdErrorTpl let-control>
        <ng-container *ngIf="control.hasError('required')">
          Please enter a user ID
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-control [nzSpan]="24">
      <label nz-checkbox formControlName="completed">
        <span class="checkbox-label">Mark as completed</span>
      </label>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item class="form-actions">
    <nz-form-control [nzSpan]="24">
      <div class="button-group">
        <button 
          nz-button 
          nzType="default" 
          type="button"
          (click)="cancel()">
          Cancel
        </button>
        <button 
          nz-button 
          nzType="primary" 
          type="submit"
          [disabled]="!todoForm.valid">
          {{ isEditMode ? 'Update' : 'Create' }} Task
        </button>
      </div>
    </nz-form-control>
  </nz-form-item>
</form>

